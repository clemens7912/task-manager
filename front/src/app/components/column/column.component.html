<div class="column mb-4">
    <div class="header">
        <span class="name flex-1">{{column.name}}</span>
        <button class="flex items-center hover:cursor-pointer" title="Add task" 
                (click)="openCreateCardModal(null)" aria-label="Add task">
                
            <mat-icon fontIcon="add_circle"></mat-icon>
        </button>
    </div>

    <!--Big screens (desktop)-->
    @if(!isSmallScreen){
        <div id="drag-column-{{column.id}}" class="content" #scrollContainer 
            cdkDropList [cdkDropListData]="column.cards"
            (cdkDropListDropped)="onDrop($event, column.id)">
    
            @for (card of column.cards; track card.id) {
                <app-card [card]="card" (deleteCard)="onDeleteCard($event, $index)"
                    class="hover:cursor-pointer" (click)="openCreateCardModal($index)"
                    cdkDrag></app-card>
            }
            @if (loading) {
                <div class="flex justify-center items-center py-2">
                    <div class="h-10 w-10 animate-spin rounded-full border-4 border-t-transparent border-salmon-500"></div>
                </div>
            }
        </div>
    } 
    <!-- Small screen. We don't allow dragging -->
    @if(isSmallScreen){
        <div id="drag-column-{{column.id}}" class="content" #scrollContainer>
            @for (card of column.cards; track card.id) {
                <app-card [card]="card" (deleteCard)="onDeleteCard($event, $index)"
                    class="hover:cursor-pointer" (click)="openCreateCardModal($index)">
                </app-card>
            }
            @if (loading) {
                <div class="flex justify-center items-center py-2">
                    <div class="h-10 w-10 animate-spin rounded-full border-4 border-t-transparent border-salmon-500"></div>
                </div>
            }
        </div>
    }
</div>
